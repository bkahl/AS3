package pdh.util{		import flash.events.IOErrorEvent;	import flash.net.URLLoader;	import flash.net.navigateToURL;	import flash.net.URLRequest;		import flash.events.Event;			import flash.events.EventDispatcher;		public class XMLLoader extends EventDispatcher{						public static const LOADED		:String = "loaded";				private var xml_data			:XML;				function XMLLoader(xmlfile:String)		{			trace("[XMLLoader] loading: " + xmlfile);						var loader:URLLoader = new URLLoader();			loader.addEventListener(Event.COMPLETE, handleLoaded); 			loader.addEventListener(IOErrorEvent.IO_ERROR, catchIOError);			loader.load(new URLRequest(xmlfile));		}							private function catchIOError(e:IOErrorEvent){			e.target.removeEventListener(Event.COMPLETE, handleLoaded)    			e.target.removeEventListener(IOErrorEvent.IO_ERROR, catchIOError)    			trace("Error caught: " + e.type);		}						private function handleLoaded(e:Event):void		{			//trace("[XMLLoader] XML LOADED!");			e.target.removeEventListener(Event.COMPLETE, handleLoaded)    			e.target.removeEventListener(IOErrorEvent.IO_ERROR, catchIOError)    						xml_data = new XML(e.target.data);			xml_data.ignoreWhite = true;									dispatchEvent(new Event(LOADED));					}				public function get data():XML		{			return xml_data;		}				public function get xml():XML		{			return xml_data;		}						} // end class			} // end package